<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Miner v3.0</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="floating-text-container"></div>

<div class="top-bar">
    <div class="res-icon">⚡</div>
    <div class="res-amount" id="top-score">0</div>
    <div class="res-unit">BYTES</div>
</div>

<div class="container">

    <div id="view-mining" class="game-view active">
        <section class="display-area">
            <div class="stats">
                <p>点击: <span id="click-power">0</span></p>
                <p>自动: <span id="auto-power">0</span>/s</p>
            </div>
        </section>
        <section class="combat-hud">
            <div class="level-info">
                <span id="level-display">LEVEL 1</span>
                <span id="enemy-name" class="enemy-name">电子爬虫</span>
            </div>

            <div id="boss-timer-bar" class="timer-bar" style="display:none;">
                <div class="timer-fill"></div>
                <span class="timer-text">15.0s</span>
            </div>

            <div class="hp-bar-container">
                <div id="hp-bar-fill" class="hp-bar-fill"></div>
                <span id="hp-text" class="hp-text">20 / 20</span>
            </div>
        </section>
        <section class="visual-feedback-area">
            <div id="data-core" class="core-idle">
                <div class="core-inner"></div>
            </div>
            <div id="ripple-container"></div>
        </section>

        <section class="buffs-section" style="background-color: var(--card-bg); border: 1px solid var(--border-color); padding: 10px; border-radius: 8px; margin-bottom: 10px;">
            <div class="section-title" style="font-size: 0.9rem;">当前Buff</div>
            <div id="buffs-container" class="buffs-list"></div>
        </section>

        <section class="inventory-section">
            <div class="section-title">装备槽位</div>
            <div class="equip-slots">
                <div class="slot" id="slot-cpu" onclick="unequipItem('cpu')">CPU</div>
                <div class="slot" id="slot-ram" onclick="unequipItem('ram')">RAM</div>
                <div class="slot" id="slot-disk" onclick="unequipItem('disk')">DISK</div>
                <div class="slot" id="slot-net" onclick="unequipItem('net')">NET</div>
                <div class="slot" id="slot-pwr" onclick="unequipItem('pwr')">PWR</div>
            </div>

            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; border-bottom:1px solid #30363d; padding-bottom:5px;">
                <div class="section-title" style="border:none; margin:0;">背包 (<span id="bag-count">0/200</span>)</div>
                <button id="btn-multi-sell" class="buy-btn small-btn" onclick="toggleSellMode()">多选出售</button>
            </div>

            <div id="bulk-actions" style="display:none; gap:5px; margin-bottom:10px; flex-wrap:wrap;">
                <button class="buy-btn" id="btn-confirm-sell" onclick="sellSelected()" disabled>确认出售</button>
                <button class="danger-btn" onclick="sellByRarity('common')">卖白</button>
                <button class="danger-btn" onclick="sellByRarity('uncommon')">卖绿</button>
            </div>

            <div class="backpack-grid" id="backpack-grid"></div>
            <div id="item-info-panel">点击物品查看详情</div>
        </section>

        <div style="height: 80px;"></div>
    </div>

    <div id="view-shop" class="game-view" style="display:none">
        <header class="shop-intro">
            <h2>黑客黑市</h2>
            <p>只要有 Bytes，这里什么都有</p>
        </header>

        <section class="shop-area" id="shop-container">
        </section>

        <div style="height: 80px;"></div>
    </div>

    <div id="view-achievements" class="game-view" style="display:none">
        <header class="shop-intro">
            <h2>🏆 成就系统</h2>
            <p>完成挑战，获得丰厚奖励</p>
        </header>
        <div id="achievements-container" class="achievements-grid"></div>
        <div style="height: 80px;"></div>
    </div>

    <div id="view-quests" class="game-view" style="display:none">
        <header class="shop-intro">
            <h2>📋 每日任务</h2>
            <p>完成每日任务，获得额外奖励</p>
        </header>
        <div id="quests-container" class="quests-list"></div>
        <div style="height: 80px;"></div>
    </div>

    <div id="view-craft" class="game-view" style="display:none">
        <header class="shop-intro">
            <h2>🔨 装备合成</h2>
            <p>将低级装备合成为高级装备</p>
        </header>
        <div id="craft-container" class="craft-area"></div>
        <div style="height: 80px;"></div>
    </div>

    <div id="view-skills" class="game-view" style="display:none">
        <header class="shop-intro">
            <h2>🌳 技能树</h2>
            <p>永久性升级，提升你的能力</p>
        </header>
        <div id="skills-container" class="skills-tree"></div>
        <div style="height: 80px;"></div>
    </div>

    <div id="view-chests" class="game-view" style="display:none">
        <header class="shop-intro">
            <h2>🎁 宝箱</h2>
            <p>开启宝箱获得奖励和Buff</p>
        </header>
        <div id="chests-container" class="chests-list"></div>
        <div style="height: 80px;"></div>
    </div>

</div>

<nav class="bottom-nav">
    <button class="nav-item active" onclick="switchTab('mining')">
        <span class="nav-icon">⛏️</span>
        <span>挖掘</span>
    </button>
    <button class="nav-item" onclick="switchTab('shop')">
        <span class="nav-icon">🛒</span>
        <span>商店</span>
    </button>
    <button class="nav-item" onclick="switchTab('achievements')">
        <span class="nav-icon">🏆</span>
        <span>成就</span>
    </button>
    <button class="nav-item" onclick="switchTab('quests')">
        <span class="nav-icon">📋</span>
        <span>任务</span>
    </button>
    <button class="nav-item" onclick="switchTab('craft')">
        <span class="nav-icon">🔨</span>
        <span>合成</span>
    </button>
    <button class="nav-item" onclick="switchTab('skills')">
        <span class="nav-icon">🌳</span>
        <span>技能</span>
    </button>
    <button class="nav-item" onclick="switchTab('chests')">
        <span class="nav-icon">🎁</span>
        <span>宝箱</span>
    </button>
</nav>

<div id="game-tooltip" class="tooltip-container" style="display: none;"></div>
<div id="toast-container"></div>
<div id="event-notification" class="event-notification" style="display: none;"></div>

<script src="config.js"></script>
<script src="loot-config.js"></script>
<script src="features-config.js"></script>
<script src="script.js"></script>
</body>
</html>